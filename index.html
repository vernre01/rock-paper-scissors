<!DOCTYPE html>
<html>
<head>
	<title>Rock, Paper, Scissors</title>
</head>
<body>
	<script>

		/*
		A function that randomly returns the 'computer's' Rock Paper Scissors play.
		*/

		function computerPlay() {
			return (Math.floor(Math.random() * (3 - 1)) + 1 === 2) ? "rock" :
			(Math.floor(Math.random() * (3 - 1)) + 1 === 1) ? "paper" :
			"scissors";
		}

		const computerSelection = computerPlay();

		/*
		A function that plays a single round of Rock Paper Scissors.
		*/

		const playerSelection = prompt("Let\'s play a game! What do you choose? Rock, Paper, or Scissors?","").toLowerCase();

		function playRound(playerSelection, computerSelection) {
			return (playerSelection == "rock" && computerSelection == "scissors") || 
				(playerSelection == "paper" && computerSelection == "rock") || 
				(playerSelection == "scissors" && computerSelection == "paper") ? "won" :
			 (playerSelection == "paper" && computerSelection == "scissors") || 
			 	(playerSelection == "scissors" && computerSelection == "rock") || 
			 	(playerSelection == "rock" && computerSelection == "paper") ? "lost" :
			 (playerSelection == "rock" && computerSelection == "rock") || 
			 	(playerSelection == "paper" && computerSelection == "paper") || 
			 	(playerSelection == "scissors" && computerSelection == "scissors") ? "tied" :
			 "Input not recognized. Please enter rock, paper, or scissors."
		}

		const roundPlayed = playRound(playerSelection, computerSelection);
		
		/*
		A function that plays a 5 round game that keeps score and reports a winner or loser at the end.
		*/

		function game(roundPlayed, playerSelection) {
			
			let roundsWon = 0;
			let roundsLost = 0;
			let roundsTied = 0; 
			let winnerMessage = "You\'ve won! The score is You: ";
			let loserMessage = "You\'ve Lost! The score is You: ";
			let tiedMessage = "You\'ve Tied! The score is You: ";
			let i = 0;

			while (i < 5) {
				if (roundPlayed === "won") {
					roundsWon++;
					i++;
					
					alert(winnerMessage + roundsWon + ", Computer: " + roundsLost + ", Tied: " + roundsTied);
					prompt("Let\'s play another round! What do you choose? Rock, Paper, or Scissors?","").toLowerCase();
				} else if (roundPlayed === "lost") {
					roundsLost++;
					i++;
					
					alert(loserMessage + roundsWon + ", Computer: " + roundsLost + ", Tied: " + roundsTied);
					prompt("Let\'s play another round! What do you choose? Rock, Paper, or Scissors?","").toLowerCase();
				} else if (roundPlayed === "tied") {
					roundsTied++;
					i++;
					
					alert(tiedMessage + roundsWon + ", Computer: " + roundsLost + ", Tied: " + roundsTied);
					prompt("Let\'s play another round! What do you choose? Rock, Paper, or Scissors?","").toLowerCase();
				} else {
					return "Something has gone wrong.";
				}
			}
		}

		console.log(game(roundPlayed, playerSelection));

	</script>
</body>
</html>