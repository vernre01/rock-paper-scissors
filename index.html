<!DOCTYPE html>
<html>
<head>
	<title>Rock, Paper, Scissors</title>
</head>
<body>
	<script>


		//A function that plays a single round of Rock Paper Scissors.
		function userInput() {
			return prompt("Please enter Rock, Paper, or Scissors","").toLowerCase();
		}

		//A function that randomly returns the 'computer's' Rock Paper Scissors play.
		function computerPlay() {
			return (Math.floor(Math.random() * (3) + 1) == 2) ? "rock" :
			(Math.floor(Math.random() * (3) + 1) == 1) ? "paper" :
			"scissors";
		}

		//A function that plays one round of Rock Paper scissors/
		function playRound(playerSelection, computerSelection) {
			console.log("You: " + playerSelection + ", Computer: " + computerSelection)
			return (playerSelection == "rock" && computerSelection == "scissors") ? "won" :
			 (playerSelection == "paper" && computerSelection == "rock") ? "won" :
			 (playerSelection == "scissors" && computerSelection == "paper") ? "won" :
			 (playerSelection == "paper" && computerSelection == "scissors") ? "lost" :
			 (playerSelection == "scissors" && computerSelection == "rock") ? "lost" :
			 (playerSelection == "rock" && computerSelection == "paper") ? "lost" :
			 (playerSelection == "rock" && computerSelection == "rock") ? "tied" :
			 (playerSelection == "paper" && computerSelection == "paper") ? "tied" :
			 (playerSelection == "scissors" && computerSelection == "scissors") ? "tied" :
			 "Input not recognized. Please enter rock, paper, or scissors."
		}
		
		//A function that plays a 5 round game that keeps score and reports a winner or loser at the end.

		function game(playerSelection, computerSelection) {
			let roundsWon = 0;
			let roundsLost = 0;
			let roundsTied = 0; 
			let winnerMessage = "You\'ve won! The score is You: ";
			let loserMessage = "You\'ve Lost! The score is You: ";
			let tiedMessage = "You\'ve Tied! The score is You: ";


			for (i = 0; i < 5; i++) {
				let roundPlayed = playRound(userInput(), computerPlay())

				if (roundPlayed == "won") {
					roundsWon++;
					console.log("Round " + (i+1) + ":\n" + winnerMessage + roundsWon + ", Computer: " + roundsLost + ", Tied: " + roundsTied);
				} else if (roundPlayed == "lost") {
					roundsLost++;
					console.log("Round " + (i+1) + ":\n" + loserMessage + roundsWon + ", Computer: " + roundsLost + ", Tied: " + roundsTied);
				} else if (roundPlayed == "tied") {
					roundsTied++;
					console.log("Round " + (i+1) + ":\n" + tiedMessage + roundsWon + ", Computer: " + roundsLost + ", Tied: " + roundsTied);
				} else {
					return "Something has gone wrong.";
				}
			}
			return (roundsWon > roundsLost && roundsWon >= roundsTied) ? console.log("You've won the game! You: " + roundsWon + ", Computer: " + roundsLost + ", Tied: " + roundsTied) : 
			(roundsLost > roundsWon && roundsLost >= roundsTied) ? console.log("You've lost the game. You: " + roundsWon + ", Computer: " + roundsLost + ", Tied: " + roundsTied) : 
			(roundsTied > roundsLost && roundsTied > roundsWon) || (roundsLost == roundsWon) ? console.log("You've tied the game. You: " + roundsWon + ", Computer: " + roundsLost + ", Tied: " + roundsTied) : 
			console.log("Something's gone wrong");
		}

		game()

	</script>
</body>
</html>